(this["webpackJsonphinnox.com"]=this["webpackJsonphinnox.com"]||[]).push([[0],{12:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return s}));var o=n(17),a=n(25),r=n(21),c="",i="true"===window.localStorage.getItem("isAuthenticated"),u=function(e,n,r){return function(u){a.a.signin(e).then((function(e){e.data.isRemember=r,t.localStorage.setItem("token",JSON.stringify(e.data)),c={"Content-Type":"application/json",Authorization:"Token ".concat(e.data._token)},i=!0,u(l(e.data.user_url)),n.push("/demoLogin")})).catch((function(t){console.log("ERROR_LOGIN",t),t.response&&401===t.response.status?o.b.error("Your accout is not actived. Please checkout our email!",{position:o.b.POSITION.TOP_RIGHT}):o.b.error("Please check your email or password again!",{position:o.b.POSITION.TOP_RIGHT})}))}},l=function(t){return function(e){a.a.getCurrentUser(t).then((function(t){i=!0,e({type:r.a,res_api:t.data}),window.localStorage.setItem("isAuthenticated","true")})).catch((function(t){console.log(t.response),p()}))}},s=function(){a.a.logout().then((function(t){t&&p()})).catch((function(){return p()}))},p=function(){window.localStorage.clear(),window.location.href="/demoLogin/login"}}).call(this,n(27))},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o="SET_CURRENT_USER"},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n(29),a=n.n(o),r=n(45),c=n(24),i=n.n(c),u=(localStorage.getItem("token")&&JSON.parse(localStorage.getItem("token")).user_url,JSON.parse(localStorage.getItem("token"))),l={"Content-Type":"application/json",Authorization:u?"Token ".concat(u._token):""},s=n(12),p={signin:function(){var t=Object(r.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("https://api.hspaces.net/accounts/api/login/",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getCurrentUser:function(t){return i.a.get("https://api.hspaces.net/user/"+t+"/",{headers:s.a?s.a:l})},logout:function(){return i.a.post("https://api.hspaces.net/accounts/api/logout/",{},{headers:s.a?s.a:l})}}},52:function(t,e,n){t.exports=n(89)},57:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(11),c=n.n(r),i=(n(57),n(2)),u=n(20),l=n(23),s=n(12),p=function(t){var e=t.component,n=t.layout,o=Object(l.a)(t,["component","layout"]),r=s.b;return r?a.a.createElement(i.b,Object.assign({},o,{render:function(t){return r?a.a.createElement(n,null,a.a.createElement(e,t)):a.a.createElement(i.a,{to:"/login"})}})):(window.location.href="/login",null)},f=function(t){var e=t.component,n=t.layout,o=Object(l.a)(t,["component","layout"]);return a.a.createElement(i.b,Object.assign({},o,{render:function(t){return a.a.createElement(n,null,a.a.createElement(e,t))}}))},h=a.a.lazy((function(){return n.e(5).then(n.bind(null,100))})),d=a.a.lazy((function(){return n.e(6).then(n.bind(null,101))})),m=a.a.lazy((function(){return n.e(3).then(n.bind(null,103))})),g=a.a.lazy((function(){return n.e(4).then(n.bind(null,102))})),b=[{path:"/demoLogin",exact:!0,layout:h,component:d,isPrivate:!0},{path:"/demoLogin/login",layout:m,component:m,isPrivate:!1}];b.push({path:"*",layout:g,component:g,isPrivate:!1});var O=b,y=n(18);var E=function(){var t=Object(y.b)(),e=JSON.parse(localStorage.getItem("token"));return Object(o.useEffect)((function(){return e&&(t(Object(s.e)(e.user_url)),e.isRemember||setTimeout((function(){Object(s.c)()}),18e6)),function(){}}),[]),a.a.createElement(u.a,null,function(t){var e=[];return t.length>0&&(e=t.map((function(t,e){return t.isPrivate?a.a.createElement(p,{key:e,path:t.path,exact:t.exact,component:t.component,layout:t.layout}):a.a.createElement(f,{key:e,path:t.path,exact:t.exact,component:t.component,layout:t.layout})}))),a.a.createElement(i.d,null," ",e," ")}(O))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(81),n(82),n(83),n(84),n(86),n(87),n(88);var v=n(14),w=n(28),_=n(21),k=function(t){return void 0===t||null===t||"object"===typeof t&&0===Object.keys(t).length||"string"===typeof t&&0===t.trim().length},S={isAuthenticated:!1,user:{}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _.a:return Object(w.a)(Object(w.a)({},t),{},{isAuthenticated:!k(e.res_api),user:e.res_api});default:return t}},I=Object(v.c)({authReducer:j}),T=n(47),N=Object(v.e)(I,{},Object(v.d)(Object(v.a)(T.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t})),R=n(33),P=n(48),x=n(49),L=n(91),J=JSON.parse(localStorage.getItem("token")),z="en";if(J)switch(J.country_code){case"VN":z="vi";break;default:z="en"}R.a.use(P.a).use(x.a).use(L.e).init({lng:z,fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}/translation.json"},interpolation:{escapeValue:!1}});R.a;c.a.render(a.a.createElement(y.a,{store:N},a.a.createElement(o.Suspense,{fallback:null},a.a.createElement(E,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.ea13f53e.chunk.js.map